@page "/race/{raceId:int}"
@inject HttpClient Http
@inject NavigationManager NavigationManager
@using FPVPulse.LocalHost.Client.Components.Data
@using Newtonsoft.Json
<h3>RaceView</h3>

@if (race != null)
{
		<code>@Newtonsoft.Json.JsonConvert.SerializeObject(race, Formatting.Indented)</code>
}
else
{
		<p>Loading ...</p>
}


@code {
    [Parameter]
	public int raceId { get; set; }

	Race race;

	protected override async Task OnInitializedAsync()
	{
		race = await Http.GetFromJsonAsync<Race>($"api/race/{raceId}");

		StateHasChanged();
	}
}
